<div class="container mt-5">
  <div class="row">
    <div class="col-md-8 mx-auto">
      <div class="card">
        <div class="card-body">
          <h3 class="text-center mt-2">{{ nombreColegio }}</h3>
        </div>
      </div>
    </div>
  </div>
  <div class="col-md-8 mt-4 mx-auto">
    <div class="card">
      <!-- <div class="progress" style="height: 20px">
        <div
          *ngIf="turnos == 0"
          id="barraDeProgreso"
          class="progress-bar"
          role="progressbar"
          style="width: 10%"
          aria-valuenow="25"
          aria-valuemin="0"
          aria-valuemax="100"
        >
          Turnos
        </div>

        <div
          *ngIf="aulas == 0 && turnos != 0"
          id="barraDeProgreso"
          class="progress-bar"
          role="progressbar"
          style="width: 25%"
          aria-valuenow="25"
          aria-valuemin="0"
          aria-valuemax="100"
        >
          Aulas
        </div>

        <div
          *ngIf="cursos == 0 && aulas != 0"
          id="barraDeProgreso"
          class="progress-bar"
          role="progressbar"
          style="width: 43%"
          aria-valuenow="25"
          aria-valuemin="0"
          aria-valuemax="100"
        >
          Cursos
        </div>

        <div
          *ngIf="profesores == 0 && cursos != 0"
          id="barraDeProgreso"
          class="progress-bar"
          role="progressbar"
          style="width: 63%"
          aria-valuenow="25"
          aria-valuemin="0"
          aria-valuemax="100"
        >
          Profesores
        </div>

        <div
          *ngIf="materias == 0 && profesores != 0"
          id="barraDeProgreso"
          class="progress-bar"
          role="progressbar"
          style="width: 77%"
          aria-valuenow="25"
          aria-valuemin="0"
          aria-valuemax="100"
        >
          Materias
        </div>

        <div
          *ngIf="
            turnos != 0 &&
            aulas != 0 &&
            materias != 0 &&
            cursos != 0 &&
            profesores != 0
          "
          id="barraDeProgreso"
          class="progress-bar"
          role="progressbar"
          style="width: 100%"
          aria-valuenow="25"
          aria-valuemin="0"
          aria-valuemax="100"
        >
          Finalizar
        </div>
      </div> -->

      <div class="card-body">
        <div class="row align-items-end">
          <button
            *ngIf="botonesCrearColegioProgreso >= 1; else bloquearBoton"
            [ngClass]="{ 'btn-primary': botonesCrearColegio == 1 }"
            class="col btn mx-2"
            (click)="clickeoBotones('turnos')"
          >
            Turnos
          </button>
          <button
            *ngIf="
              botonesCrearColegioProgreso >= 2 && turnos != 0;
              else bloquearBoton0
            "
            [ngClass]="{ 'btn-primary': botonesCrearColegio == 2 }"
            class="col btn me-2"
            (click)="clickeoBotones('aulas')"
          >
            Aulas
          </button>
          <button
            *ngIf="
              botonesCrearColegioProgreso >= 3 && turnos != 0 && aulas != 0;
              else bloquearBoton1
            "
            [ngClass]="{ 'btn-primary': botonesCrearColegio == 3 }"
            class="col btn me-2"
            (click)="clickeoBotones('cursos')"
          >
            Cursos
          </button>
          <button
            *ngIf="
              botonesCrearColegioProgreso >= 4 &&
                turnos != 0 &&
                aulas != 0 &&
                cursos != 0;
              else bloquearBoton2
            "
            [ngClass]="{ 'btn-primary': botonesCrearColegio == 4 }"
            class="col btn me-2"
            (click)="clickeoBotones('profesores')"
          >
            Profesores
          </button>
          <button
            *ngIf="
              botonesCrearColegioProgreso >= 5 &&
                turnos != 0 &&
                aulas != 0 &&
                cursos != 0 &&
                profesores != 0;
              else bloquearBoton3
            "
            [ngClass]="{ 'btn-primary': botonesCrearColegio == 5 }"
            class="col btn me-2"
            (click)="clickeoBotones('materias')"
          >
            Materias
          </button>
          <button
            *ngIf="
              botonesCrearColegioProgreso >= 6 &&
                turnos != 0 &&
                aulas != 0 &&
                cursos != 0 &&
                profesores != 0 &&
                materias != 0;
              else bloquearBoton4
            "
            [ngClass]="{ 'btn-primary': botonesCrearColegio == 6 }"
            class="col btn me-2"
            (click)="clickeoBotones('finalizar')"
          >
            Finalizar
          </button>
        </div>
        <ng-template #bloquearBoton>
          <button class="col btn btn-light me-2 disabled">Turnos</button>
        </ng-template>
        <ng-template #bloquearBoton0>
          <button class="col btn btn-light me-2 disabled">Aulas</button>
        </ng-template>
        <ng-template #bloquearBoton1>
          <button class="col btn btn-light me-2 disabled">Cursos</button>
        </ng-template>
        <ng-template #bloquearBoton2>
          <button class="col btn btn-light me-2 disabled">Profesores</button>
        </ng-template>
        <ng-template #bloquearBoton3>
          <button class="col btn btn-light me-2 disabled">Materias</button>
        </ng-template>
        <ng-template #bloquearBoton4>
          <button class="col btn btn-light me-2 disabled">Finalizar</button>
        </ng-template>
      </div>
    </div>
  </div>
</div>

<!-- turnos == 0 || 
aulas == 0 && turnos != 0 ||
cursos == 0 && aulas != 0 ||
profesores == 0 && cursos != 0 ||
materias == 0 && profesores != 0 || 
turnos != 0 && aulas != 0 && materias != 0 && cursos != 0 && profesores != 0 || -->

<div *ngIf="botonesCrearColegio == 1" class="container mx-auto my-4">
  <div class="col-md-8 mx-auto">
    <ul class="list-group">
      <div class="text-secondary">
        <h6>Duracion de cada modulo: {{ duracionModulo }} min</h6>
      </div>
      <table class="table text-center">
        <thead>
          <tr class="table-light">
            <th class="rounded-start" scope="col">Horarios</th>
            <th scope="col"></th>
            <th scope="col">Lunes</th>
            <th scope="col">Martes</th>
            <th scope="col">Miercoles</th>
            <th scope="col">Jueves</th>
            <th class="rounded-end" scope="col">Viernes</th>
          </tr>
        </thead>
        <tbody>
          <!-- MAÑANA -->
          <tr *ngIf="12 >= horaInicial && horaInicial >= 5">
            <td colspan="7" class="table-active">
              TURNO MAÑANA ({{ inicioHorario }} am - 12:00 pm)
            </td>
          </tr>
          <tr *ngFor="let turno of turnoArray[0].modulos" class="bg-white">
            <td colspan="2" class="text-black">
              {{ turno.inicio }} - {{ turno.final }}
            </td>
            <td colspan="4" class="text-black">CLASE</td>
            <td class="bg-light">
              <svg
                (click)="deleteModulo('manana', turno)"
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="16"
                fill="currentColor"
                class="bi bi-trash-fill"
                viewBox="0 0 16 16"
              >
                <path
                  d="M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z"
                />
              </svg>
            </td>
          </tr>
          <tr>
            <td colspan="3"></td>
            <td colspan="2">
              <div class="input-group">
                <input
                  type="Time"
                  class="form-control"
                  [(ngModel)]="inicioModuloSeleccionado[0]"
                />
                <button class="btn btn-primary" (click)="addModulo('manana')">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="20"
                    height="20"
                    fill="currentColor"
                    class="bi bi-plus-lg"
                    viewBox="0 0 16 16"
                  >
                    <path
                      d="M8 0a1 1 0 0 1 1 1v6h6a1 1 0 1 1 0 2H9v6a1 1 0 1 1-2 0V9H1a1 1 0 0 1 0-2h6V1a1 1 0 0 1 1-1z"
                    />
                  </svg>
                </button>
              </div>
            </td>
          </tr>

          <!-- TARDE -->
          <tr *ngIf="18 >= horaFinal && horaFinal > 12; else turnoNoche">
            <td colspan="7" class="table-active">
              TURNO TARDE (12:00 pm - {{ finalizacionHorario }} pm)
            </td>
          </tr>
          <ng-template #turnoNoche>
            <tr *ngIf="horaFinal == 12; else turnoNoche2"></tr>
            <ng-template #turnoNoche2>
              <tr>
                <td colspan="7" class="table-active">
                  TURNO TARDE (12:00 am - 18:00 pm)
                </td>
              </tr>
            </ng-template>
          </ng-template>

          <tr *ngFor="let turno of turnoArray[1].modulos" class="bg-white">
            <td colspan="2" class="text-black">
              {{ turno.inicio }} - {{ turno.final }}
            </td>
            <td colspan="4" class="text-black">CLASE</td>
            <td class="bg-light">
              <svg
                (click)="deleteModulo('tarde', turno)"
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="16"
                fill="currentColor"
                class="bi bi-trash-fill"
                viewBox="0 0 16 16"
              >
                <path
                  d="M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z"
                />
              </svg>
            </td>
          </tr>

          <tr
            *ngIf="
              (18 >= horaFinal && horaFinal > 12) || 18 <= horaFinal;
              else turnoNoche3
            "
          >
            <td colspan="3"></td>
            <td colspan="2">
              <div class="input-group">
                <input
                  type="Time"
                  class="form-control"
                  [(ngModel)]="inicioModuloSeleccionado[1]"
                />
                <button class="btn btn-primary" (click)="addModulo('tarde')">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="20"
                    height="20"
                    fill="currentColor"
                    class="bi bi-plus-lg"
                    viewBox="0 0 16 16"
                  >
                    <path
                      d="M8 0a1 1 0 0 1 1 1v6h6a1 1 0 1 1 0 2H9v6a1 1 0 1 1-2 0V9H1a1 1 0 0 1 0-2h6V1a1 1 0 0 1 1-1z"
                    />
                  </svg>
                </button>
              </div>
            </td>
            <td colspan="3"></td>
          </tr>
          <ng-template #turnoNoche3></ng-template>

          <!-- NOCHE -->
          <tr *ngIf="horaFinal > 18">
            <td colspan="7" class="table-active">
              TURNO NOCHE (18:00 pm - {{ finalizacionHorario }} pm)
            </td>
          </tr>

          <tr *ngFor="let turno of turnoArray[2].modulos" class="bg-white">
            <td colspan="2" class="text-black">
              {{ turno.inicio }} - {{ turno.final }}
            </td>
            <td colspan="4" class="text-black">CLASE</td>
            <td class="bg-light">
              <svg
                (click)="deleteModulo('noche', turno)"
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="16"
                fill="currentColor"
                class="bi bi-trash-fill"
                viewBox="0 0 16 16"
              >
                <path
                  d="M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z"
                />
              </svg>
            </td>
          </tr>

          <tr *ngIf="horaFinal > 18">
            <td colspan="3"></td>
            <td colspan="2">
              <div class="input-group">
                <input
                  type="Time"
                  class="form-control"
                  [(ngModel)]="inicioModuloSeleccionado[2]"
                />
                <button class="btn btn-primary" (click)="addModulo('noche')">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="20"
                    height="20"
                    fill="currentColor"
                    class="bi bi-plus-lg"
                    viewBox="0 0 16 16"
                  >
                    <path
                      d="M8 0a1 1 0 0 1 1 1v6h6a1 1 0 1 1 0 2H9v6a1 1 0 1 1-2 0V9H1a1 1 0 0 1 0-2h6V1a1 1 0 0 1 1-1z"
                    />
                  </svg>
                </button>
              </div>
            </td>
            <td colspan="3"></td>
          </tr>
        </tbody>
      </table>
    </ul>
    <div class="d-grid">
      <button
        *ngIf="
          botonesCrearColegioProgreso <= 1 && turnoArray[0].modulos.length != 0
        "
        (click)="goFormAula()"
        class="btn btn-primary btn-lg mt-4"
      >
        SIGUIENTE
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="1.10em"
          height="1.10em"
          fill="currentColor"
          class="bi bi-arrow-right"
          viewBox="0 0 16 16"
        >
          <path
            fill-rule="evenodd"
            d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"
          />
        </svg>
      </button>
    </div>
  </div>
</div>

<div
  *ngIf="botonesCrearColegio == 2 && turnos != 0"
  class="container mx-auto my-4"
  id="divAula"
>
  <div class="col-md-8 mx-auto">
    <table class="table">
      <thead>
        <tr class="table-light">
          <th scope="col" class="rounded-start">Insertar Aulas</th>
          <th scope="col" class="rounded-end">Aulas</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>
            <div class="card">
              <div class="card-body">
                <div class="form-group">
                  <input
                    type="text"
                    [(ngModel)]="selectedAula.nombre"
                    placeholder="Nombre"
                    class="form-control"
                  />

                  <label class="mt-2">Tipo de aula</label>
                  <select class="form-select" [(ngModel)]="selectedAula.tipo">
                    <option value="normal">Normal</option>
                    <option value="otro">Otro</option>
                  </select>

                  <div class="mt-3" *ngIf="selectedAula.tipo == 'otro'">
                    <div class="form-check">
                      <input
                        checked
                        class="form-check-input"
                        type="radio"
                        [(ngModel)]="selectedAula.otro"
                        value="SUM"
                        name="flexRadioDefault"
                        id="flexRadioDefault1"
                      />
                      <label class="form-check-label" for="flexRadioDefault1">
                        SUM
                      </label>
                    </div>
                    <div class="form-check">
                      <input
                        class="form-check-input"
                        type="radio"
                        [(ngModel)]="selectedAula.otro"
                        value="TALLER"
                        name="flexRadioDefault"
                        id="flexRadioDefault2"
                      />
                      <label class="form-check-label" for="flexRadioDefault2">
                        TALLER
                      </label>
                    </div>
                    <div class="form-check">
                      <input
                        class="form-check-input"
                        type="radio"
                        [(ngModel)]="selectedAula.otro"
                        value="BIBLIOTECA"
                        name="flexRadioDefault"
                        id="flexRadioDefault3"
                      />
                      <label class="form-check-label" for="flexRadioDefault3">
                        BIBLIOTECA
                      </label>
                    </div>
                    <div class="form-check">
                      <input
                        class="form-check-input"
                        type="radio"
                        [(ngModel)]="selectedAula.otro"
                        value="ESTUDIO MUSICAL"
                        name="flexRadioDefault"
                        id="flexRadioDefault4"
                      />
                      <label class="form-check-label" for="flexRadioDefault4">
                        ESTUDIO MUSICAL
                      </label>
                    </div>
                    <div class="form-check">
                      <input
                        class="form-check-input"
                        type="radio"
                        [(ngModel)]="selectedAula.otro"
                        value="ESTUDIO ARTISTICO"
                        name="flexRadioDefault"
                        id="flexRadioDefault5"
                      />
                      <label class="form-check-label" for="flexRadioDefault5">
                        ESTUDIO ARTISTICO
                      </label>
                    </div>
                    <div class="form-check">
                      <input
                        class="form-check-input"
                        type="radio"
                        [(ngModel)]="selectedAula.otro"
                        value="ESTUDIO DE RADIO"
                        name="flexRadioDefault"
                        id="flexRadioDefault6"
                      />
                      <label class="form-check-label" for="flexRadioDefault6">
                        ESTUDIO DE RADIO
                      </label>
                    </div>
                    <div class="form-check">
                      <input
                        class="form-check-input"
                        type="radio"
                        [(ngModel)]="selectedAula.otro"
                        value="ESTUDIO DE VIDEO"
                        name="flexRadioDefault"
                        id="flexRadioDefault7"
                      />
                      <label class="form-check-label" for="flexRadioDefault7">
                        ESTUDIO DE VIDEO
                      </label>
                    </div>
                    <div class="form-check">
                      <input
                        class="form-check-input"
                        type="radio"
                        [(ngModel)]="selectedAula.otro"
                        value="SALA DE COMPUTACION"
                        name="flexRadioDefault"
                        id="flexRadioDefault8"
                      />
                      <label class="form-check-label" for="flexRadioDefault8">
                        SALA DE COMPUTACION
                      </label>
                    </div>
                    <div class="form-check">
                      <input
                        class="form-check-input"
                        type="radio"
                        [(ngModel)]="selectedAula.otro"
                        value="LABORATORIO"
                        name="flexRadioDefault"
                        id="flexRadioDefault9"
                      />
                      <label class="form-check-label" for="flexRadioDefault9">
                        LABORATORIO
                      </label>
                    </div>
                    <div class="form-check">
                      <input
                        class="form-check-input"
                        type="radio"
                        [(ngModel)]="selectedAula.otro"
                        value="CAMPO"
                        name="flexRadioDefault"
                        id="flexRadioDefault10"
                      />
                      <label class="form-check-label" for="flexRadioDefault10">
                        CAMPO
                      </label>
                    </div>
                  </div>

                  <button
                    (click)="addOrEditAula()"
                    class="btn btn-primary mt-4"
                  >
                    Añadir / Editar
                  </button>
                  <button
                    *ngIf="selectedAula.id != 0"
                    class="btn btn-danger mt-4 ms-4"
                    (click)="deleteAula()"
                  >
                    Eliminar
                  </button>
                </div>
              </div>
            </div>
          </td>
          <td>
            <ul
              class="list-group shadow"
              style="max-height: 250px; overflow-y: scroll"
            >
              <li
                *ngFor="let aula of aulaArray"
                class="list-group-item list-group-item-action"
                (click)="openForEditAula(aula)"
                [class.active]="aula == selectedAula"
              >
                <span>{{ aula.nombre }}</span>
              </li>
            </ul>
          </td>
        </tr>
        <tr>
          <td colspan="2">
            <div class="d-grid">
              <button
                *ngIf="
                  botonesCrearColegioProgreso <= 2 && aulaArray.length != 0
                "
                (click)="goFormCurso()"
                class="btn btn-primary btn-lg mt-4"
              >
                SIGUIENTE
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="1.10em"
                  height="1.10em"
                  fill="currentColor"
                  class="bi bi-arrow-right"
                  viewBox="0 0 16 16"
                >
                  <path
                    fill-rule="evenodd"
                    d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"
                  />
                </svg>
              </button>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<div
  *ngIf="botonesCrearColegio == 3 && turnos != 0 && aulas != 0"
  class="container mx-auto my-4"
  id="divCurso"
>
  <div class="col-md-8 mx-auto">
    <table class="table">
      <thead>
        <tr class="table-light">
          <th scope="col" class="rounded-start">Insertar Cursos</th>
          <th scope="col" class="rounded-end">Cursos</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>
            <div class="card">
              <div class="card-body">
                <div class="form-group">
                  <input
                    type="text"
                    placeholder="Nombre"
                    [(ngModel)]="selectedCurso.nombre"
                    class="form-control"
                  />

                  <label class="mt-2">Turno preferido</label>
                  <select
                    class="form-select"
                    [(ngModel)]="selectedCurso.turnoPreferido"
                  >
                    <option value="manana">Mañana</option>
                    <option value="tarde">Tarde</option>
                    <option value="noche">Noche</option>
                  </select>

                  <input
                    type="number"
                    min="1"
                    placeholder="Cantidad de alumnos"
                    [(ngModel)]="selectedCurso.cantAlumnos"
                    class="form-control mt-2"
                  />

                  <button
                    (click)="addOrEditCurso()"
                    class="btn btn-primary mt-4"
                  >
                    Añadir / Editar
                  </button>
                  <button
                    *ngIf="selectedCurso.id != 0"
                    class="btn btn-danger mt-4 ms-4"
                    (click)="deleteCurso()"
                  >
                    Eliminar
                  </button>
                </div>
              </div>
            </div>
          </td>
          <td>
            <ul
              class="list-group shadow scrollbar scrollbar-primary"
              style="max-height: 315px; overflow-y: scroll"
            >
              <li
                *ngFor="let curso of cursoArray"
                class="list-group-item list-group-item-action"
                (click)="openForEditCurso(curso)"
                [class.active]="curso == selectedCurso"
              >
                <span>{{ curso.nombre }}</span>

                <!--  / Materias en el curso:
                <p *ngFor="let materia of curso.materiasCurso">- {{ materia }}</p>  -->
              </li>
            </ul>
          </td>
        </tr>
        <tr>
          <td colspan="2">
            <div class="d-grid">
              <button
                *ngIf="
                  botonesCrearColegioProgreso <= 3 && cursoArray.length != 0
                "
                (click)="goFormProfesor()"
                class="btn btn-primary btn-lg mt-4"
              >
                SIGUIENTE
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="1.10em"
                  height="1.10em"
                  fill="currentColor"
                  class="bi bi-arrow-right"
                  viewBox="0 0 16 16"
                >
                  <path
                    fill-rule="evenodd"
                    d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"
                  />
                </svg>
              </button>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<div
  *ngIf="botonesCrearColegio == 4 && turnos != 0 && aulas != 0 && cursos != 0"
  class="container mx-auto my-4"
  id="divProfesor"
>
  <div class="col-md-8 mx-auto">
    <table class="table">
      <thead>
        <tr class="table-light">
          <th scope="col" class="rounded-start">Insertar Profesores</th>
          <th scope="col" class="rounded-end">Profesores</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>
            <div class="card">
              <div class="card-body">
                <div
                  *ngIf="
                    disponibilidadProfesor == false;
                    else disponibilidadTabla
                  "
                  class="form-group"
                >
                  <input
                    type="text"
                    placeholder="Nombre"
                    [(ngModel)]="selectedProfesor.nombre"
                    class="form-control"
                  />

                  <input
                    type="text"
                    placeholder="Apellido"
                    [(ngModel)]="selectedProfesor.apellido"
                    class="form-control"
                  />

                  <input
                    type="number"
                    placeholder="Dni"
                    min="1000000"
                    [(ngModel)]="selectedProfesor.dni"
                    class="form-control"
                  />

                  <button
                    type="button"
                    class="btn btn-light mt-4"
                    style="width: 100%"
                    (click)="availabilityProfesor()"
                  >
                    Disponibilidad
                  </button>

                  <button
                    (click)="addOrEditProfesor()"
                    class="btn btn-primary mt-4"
                  >
                    Añadir / Editar
                  </button>
                  <button
                    *ngIf="selectedProfesor.id != 0"
                    class="btn btn-danger mt-4 ms-4"
                    (click)="deleteProfesor()"
                  >
                    Eliminar
                  </button>
                </div>
                <ng-template #disponibilidadTabla>
                  <div class="text-black text-center mb-2">
                    <h4>Disponibilidad del profesor</h4>
                  </div>
                  <table class="table text-center">
                    <thead>
                      <tr class="table-light">
                        <th class="rounded-start" scope="col">Horarios</th>
                        <th scope="col"></th>
                        <th scope="col">Lunes</th>
                        <th scope="col">Martes</th>
                        <th scope="col">Miercoles</th>
                        <th scope="col">Jueves</th>
                        <th class="rounded-end" scope="col">Viernes</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr
                        *ngFor="let modulo of turnoArray[0].modulos"
                        class="bg-secondary"
                      >
                        <td colspan="2" class="bg-light text-black">
                          {{ modulo.inicio }} - {{ modulo.final }}
                        </td>
                        <td>
                          <div
                            class="form-check"
                            (click)="
                              clickFormCheck('lunes', 'manana', modulo.inicio)
                            "
                          >
                            <input
                              checked
                              class="form-check-input"
                              type="checkbox"
                              [(ngModel)]="
                                selectedProfesor.disponibilidad['lunes'][
                                  'manana'
                                ][modulo.inicio]
                              "
                            />
                          </div>
                        </td>
                        <td>
                          <div
                            class="form-check"
                            (click)="
                              clickFormCheck('martes', 'manana', modulo.inicio)
                            "
                          >
                            <input
                              checked
                              class="form-check-input"
                              type="checkbox"
                              [(ngModel)]="
                                selectedProfesor.disponibilidad['martes'][
                                  'manana'
                                ][modulo.inicio]
                              "
                            />
                          </div>
                        </td>
                        <td>
                          <div
                            class="form-check"
                            (click)="
                              clickFormCheck(
                                'miercoles',
                                'manana',
                                modulo.inicio
                              )
                            "
                          >
                            <input
                              checked
                              class="form-check-input"
                              type="checkbox"
                              [(ngModel)]="
                                selectedProfesor.disponibilidad['miercoles'][
                                  'manana'
                                ][modulo.inicio]
                              "
                            />
                          </div>
                        </td>
                        <td>
                          <div
                            class="form-check"
                            (click)="
                              clickFormCheck('jueves', 'manana', modulo.inicio)
                            "
                          >
                            <input
                              checked
                              class="form-check-input"
                              type="checkbox"
                              [(ngModel)]="
                                selectedProfesor.disponibilidad['jueves'][
                                  'manana'
                                ][modulo.inicio]
                              "
                            />
                          </div>
                        </td>
                        <td>
                          <div
                            class="form-check"
                            (click)="
                              clickFormCheck('viernes', 'manana', modulo.inicio)
                            "
                          >
                            <input
                              checked
                              class="form-check-input"
                              type="checkbox"
                              [(ngModel)]="
                                selectedProfesor.disponibilidad['viernes'][
                                  'manana'
                                ][modulo.inicio]
                              "
                            />
                          </div>
                        </td>
                      </tr>

                      <tr
                        *ngFor="let modulo of turnoArray[1].modulos"
                        class="bg-secondary"
                      >
                        <td colspan="2" class="bg-light text-black">
                          {{ modulo.inicio }} - {{ modulo.final }}
                        </td>
                        <td>
                          <div
                            class="form-check"
                            (click)="
                              clickFormCheck('lunes', 'tarde', modulo.inicio)
                            "
                          >
                            <input
                              checked
                              class="form-check-input"
                              type="checkbox"
                              [(ngModel)]="
                                selectedProfesor.disponibilidad['lunes'][
                                  'tarde'
                                ][modulo.inicio]
                              "
                            />
                          </div>
                        </td>
                        <td>
                          <div
                            class="form-check"
                            (click)="
                              clickFormCheck('martes', 'tarde', modulo.inicio)
                            "
                          >
                            <input
                              checked
                              class="form-check-input"
                              type="checkbox"
                              [(ngModel)]="
                                selectedProfesor.disponibilidad['martes'][
                                  'tarde'
                                ][modulo.inicio]
                              "
                            />
                          </div>
                        </td>
                        <td>
                          <div
                            class="form-check"
                            (click)="
                              clickFormCheck(
                                'miercoles',
                                'tarde',
                                modulo.inicio
                              )
                            "
                          >
                            <input
                              checked
                              class="form-check-input"
                              type="checkbox"
                              [(ngModel)]="
                                selectedProfesor.disponibilidad['miercoles'][
                                  'tarde'
                                ][modulo.inicio]
                              "
                            />
                          </div>
                        </td>
                        <td>
                          <div
                            class="form-check"
                            (click)="
                              clickFormCheck('jueves', 'tarde', modulo.inicio)
                            "
                          >
                            <input
                              checked
                              class="form-check-input"
                              type="checkbox"
                              [(ngModel)]="
                                selectedProfesor.disponibilidad['jueves'][
                                  'tarde'
                                ][modulo.inicio]
                              "
                            />
                          </div>
                        </td>
                        <td>
                          <div
                            class="form-check"
                            (click)="
                              clickFormCheck('viernes', 'tarde', modulo.inicio)
                            "
                          >
                            <input
                              checked
                              class="form-check-input"
                              type="checkbox"
                              [(ngModel)]="
                                selectedProfesor.disponibilidad['viernes'][
                                  'tarde'
                                ][modulo.inicio]
                              "
                            />
                          </div>
                        </td>
                      </tr>

                      <tr
                        *ngFor="let modulo of turnoArray[2].modulos"
                        class="bg-secondary"
                      >
                        <td colspan="2" class="bg-light text-black">
                          {{ modulo.inicio }} - {{ modulo.final }}
                        </td>
                        <td>
                          <div
                            class="form-check"
                            (click)="
                              clickFormCheck('lunes', 'noche', modulo.inicio)
                            "
                          >
                            <input
                              checked
                              class="form-check-input"
                              type="checkbox"
                              [(ngModel)]="
                                selectedProfesor.disponibilidad['lunes'][
                                  'noche'
                                ][modulo.inicio]
                              "
                            />
                          </div>
                        </td>
                        <td>
                          <div
                            class="form-check"
                            (click)="
                              clickFormCheck('martes', 'noche', modulo.inicio)
                            "
                          >
                            <input
                              checked
                              class="form-check-input"
                              type="checkbox"
                              [(ngModel)]="
                                selectedProfesor.disponibilidad['martes'][
                                  'noche'
                                ][modulo.inicio]
                              "
                            />
                          </div>
                        </td>
                        <td>
                          <div
                            class="form-check"
                            (click)="
                              clickFormCheck(
                                'miercoles',
                                'noche',
                                modulo.inicio
                              )
                            "
                          >
                            <input
                              checked
                              class="form-check-input"
                              type="checkbox"
                              [(ngModel)]="
                                selectedProfesor.disponibilidad['miercoles'][
                                  'noche'
                                ][modulo.inicio]
                              "
                            />
                          </div>
                        </td>
                        <td>
                          <div
                            class="form-check"
                            (click)="
                              clickFormCheck('jueves', 'noche', modulo.inicio)
                            "
                          >
                            <input
                              checked
                              class="form-check-input"
                              type="checkbox"
                              [(ngModel)]="
                                selectedProfesor.disponibilidad['jueves'][
                                  'noche'
                                ][modulo.inicio]
                              "
                            />
                          </div>
                        </td>
                        <td>
                          <div
                            class="form-check"
                            (click)="
                              clickFormCheck('viernes', 'noche', modulo.inicio)
                            "
                          >
                            <input
                              checked
                              class="form-check-input"
                              type="checkbox"
                              [(ngModel)]="
                                selectedProfesor.disponibilidad['viernes'][
                                  'noche'
                                ][modulo.inicio]
                              "
                            />
                          </div>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                  <button
                    class="col btn btn-primary me-2"
                    (click)="availabilityProfesor()"
                  >
                    LISTO
                  </button>
                </ng-template>
              </div>
            </div>
          </td>
          <td>
            <ul
              class="list-group shadow"
              style="max-height: 350px; overflow-y: scroll"
            >
              <li
                *ngFor="let profesor of profesorArray"
                class="list-group-item list-group-item-action"
                (click)="openForEditProfesor(profesor)"
                [class.active]="profesor == selectedProfesor"
              >
                <span>{{ profesor.nombre }} {{ profesor.apellido }}</span>
              </li>
            </ul>
          </td>
        </tr>
        <tr>
          <td colspan="2">
            <div class="d-grid">
              <button
                *ngIf="
                  botonesCrearColegioProgreso <= 4 && profesorArray.length != 0
                "
                (click)="goFormMateria()"
                class="btn btn-primary btn-lg mt-4"
              >
                SIGUIENTE
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="1.10em"
                  height="1.10em"
                  fill="currentColor"
                  class="bi bi-arrow-right"
                  viewBox="0 0 16 16"
                >
                  <path
                    fill-rule="evenodd"
                    d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"
                  />
                </svg>
              </button>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<div
  *ngIf="
    botonesCrearColegio == 5 &&
    turnos != 0 &&
    aulas != 0 &&
    cursos != 0 &&
    profesores != 0
  "
  class="container mx-auto my-4"
  id="divMateria"
>
  <div class="col-md-8 mx-auto">
    <table class="table">
      <thead>
        <tr class="table-light">
          <th scope="col" class="rounded-start">Insertar Materias</th>
          <th scope="col" class="rounded-end">Materias</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>
            <div class="card">
              <div class="card-body">
                <div class="form-group">
                  <input
                    type="text"
                    [(ngModel)]="selectedMateria.nombre"
                    placeholder="Nombre"
                    class="form-control"
                  />

                  <input
                    type="number"
                    min="1"
                    [(ngModel)]="selectedMateria.cantidadDeModulosTotal"
                    placeholder="Cantidad de modulos total"
                    class="form-control"
                  />

                  <input
                    type="number"
                    min="1"
                    [(ngModel)]="selectedMateria.cantidadMaximaDeModulosPorDia"
                    placeholder="Cantidad maxima de modulos por dia"
                    class="form-control"
                  />

                  <p>
                    <label class="mt-2">Curso</label>
                    <select
                      class="form-select"
                      [(ngModel)]="selectedMateria.curso"
                    >
                      <option
                        *ngFor="let curso of cursoArray"
                        value="{{ curso.nombre }}"
                      >
                        {{ curso.nombre }}
                      </option>
                    </select>
                  </p>

                  <!-- <label class="mt-2">Profesores:</label> -->
                  <table>
                    <thead>
                      <tr class="table-light">
                        <th class="rounded-start" scope="col">Profesores</th>
                        <th scope="col"></th>
                        <th class="rounded-end" scope="col">Aulas</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td>
                          <div
                            class="form-check mt-2"
                            (click)="
                              clickFormCheckMateriaProfesor(
                                profesor.nombre + ' ' + profesor.apellido
                              )
                            "
                            *ngFor="let profesor of profesorArray"
                          >
                            <input
                              class="form-check-input"
                              type="checkbox"
                              [(ngModel)]="
                                selectedMateria.profesoresCapacitados[
                                  profesor.nombre + ' ' + profesor.apellido
                                ]
                              "
                              id="{{ profesor.nombre }} {{ profesor.apellido }}"
                            />
                            <!--profesoresArrayMaterias
                               (click)="clicked(profesor.nombre)" -->

                            <label
                              class="form-check-label"
                              for="{{ profesor.nombre }} {{
                                profesor.apellido
                              }}"
                            >
                              {{ profesor.nombre }} {{ profesor.apellido }}
                            </label>
                          </div>
                        </td>
                        <td></td>
                        <td>
                          <div
                            class="form-check mt-2"
                            (click)="clickFormCheckMateriaAula(aula.nombre)"
                            *ngFor="let aula of aulaArray"
                          >
                            <input
                              class="form-check-input"
                              type="checkbox"
                              [(ngModel)]="
                                selectedMateria.aulasMateria[aula.nombre]
                              "
                              id="{{ aula.nombre }}"
                            />

                            <label
                              class="form-check-label"
                              for="{{ aula.nombre }}"
                            >
                              {{ aula.nombre }}
                            </label>
                          </div>
                        </td>
                      </tr>
                    </tbody>
                  </table>

                  <button
                    (click)="addOrEditMateria()"
                    class="btn btn-primary mt-4"
                  >
                    Añadir / Editar
                  </button>
                  <button
                    *ngIf="selectedMateria.id != 0"
                    class="btn btn-danger mt-4 ms-4"
                    (click)="deleteMateria()"
                  >
                    Eliminar
                  </button>
                </div>
              </div>
            </div>
          </td>
          <td>
            <ul
              class="list-group shadow"
              style="max-height: 400px; overflow-y: scroll"
            >
              <li
                *ngFor="let materia of materiaArray"
                class="list-group-item list-group-item-action"
                (click)="openForEditMateria(materia)"
                [class.active]="materia == selectedMateria"
              >
                <span>{{ materia.nombre }}</span>
              </li>
            </ul>
          </td>
        </tr>
        <tr>
          <td colspan="2">
            <div class="d-grid">
              <button
                *ngIf="
                  botonesCrearColegioProgreso <= 5 && materiaArray.length != 0
                "
                (click)="goFormFinalizar()"
                class="btn btn-primary btn-lg mt-4"
              >
                SIGUIENTE
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="1.10em"
                  height="1.10em"
                  fill="currentColor"
                  class="bi bi-arrow-right"
                  viewBox="0 0 16 16"
                >
                  <path
                    fill-rule="evenodd"
                    d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"
                  />
                </svg>
              </button>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<div
  *ngIf="
    botonesCrearColegio == 6 &&
    turnos != 0 &&
    aulas != 0 &&
    cursos != 0 &&
    profesores != 0 &&
    materias != 0
  "
  class="container mx-auto my-4"
  id="divFinalizar"
>
  <div class="col-md-8 mx-auto">
    <div class="card mt-6">
      <div class="card-body">

        <p *ngIf="horarioGenerado">
          <label class="mt-2">Cursos</label>
          <select class="form-select" [(ngModel)]="cursoActual">
          <option *ngFor="let curso of cursoArray" value="{{ curso.nombre }}">
            {{ curso.nombre }}
          </option>
        </select>
        </p>
        

        <table *ngIf="horarioGenerado" class="table text-center">
          <thead>
            <tr class="table-light">
              <th class="rounded-start" scope="col">Horarios</th>
              <th scope="col"></th>
              <th scope="col">Lunes</th>
              <th scope="col">Martes</th>
              <th scope="col">Miercoles</th>
              <th scope="col">Jueves</th>
              <th class="rounded-end" scope="col">Viernes</th>
            </tr>
          </thead>
          <tbody>
            <!-- MAÑANA -->
            <tr *ngIf="12 >= horaInicial && horaInicial >= 5">
              <td colspan="7" class="table-active">INICIO ACTIVIDADES</td>
            </tr>
            <tr *ngFor="let turno of turnoArray[0].modulos" class="bg-white">
              <td colspan="2" class="text-black">
                {{ turno.inicio }} - {{ turno.final }}
              </td>
              <td *ngFor="let dia of dias" colspan="1" class="text-black">
                {{ horariosHechos[cursoActual][dia]['manana'][turnoArray[0].modulos.indexOf(turno) + 1]}}
              </td>

            </tr>

            <!-- TARDE -->
            <tr *ngIf="18 >= horaFinal && horaFinal > 12">
              <td colspan="7" class="table-active"></td>
            </tr>

            <tr *ngFor="let turno of turnoArray[1].modulos" class="bg-white">
              <td colspan="2" class="text-black">
                {{ turno.inicio }} - {{ turno.final }}
              </td>
              <td *ngFor="let dia of dias" colspan="1" class="text-black">
                {{ horariosHechos[cursoActual][dia]['tarde'][turnoArray[1].modulos.indexOf(turno) + 1]}}
              </td>
            </tr>

            <!-- NOCHE -->
            <tr *ngIf="horaFinal > 18">
              <td colspan="7" class="table-active"></td>
            </tr>

            <tr *ngFor="let turno of turnoArray[2].modulos" class="bg-white">
              <td colspan="2" class="text-black">
                {{ turno.inicio }} - {{ turno.final }}
              </td>
              <td *ngFor="let dia of dias" colspan="1" class="text-black">
                {{ horariosHechos[cursoActual][dia]['noche'][turnoArray[2].modulos.indexOf(turno) + 1]}}
              </td>
            </tr>
          </tbody>
        </table>

        <div *ngIf="botonPresionado && !horarioGenerado" class="card-title">
          <h5 class="my-3">
            <p>
              Gracias por utilizar S4S. <br />
            </p>
          </h5>

          <button
            *ngIf="botonPresionado && !horarioGenerado"
            class="btn btn-primary"
            type="button"
            disabled
          >
            <span
              class="spinner-grow spinner-grow-sm"
              role="status"
              aria-hidden="true"
            ></span>
            Generando Horarios (Esto podria demorar)...
          </button>
        </div>

        <div *ngIf="!botonPresionado" class="d-grid">
          <button (click)="finalizar()" class="btn btn-primary btn-lg mt-2">
            Generar mis horarios ya!
          </button>
        </div>
      </div>
      <ng-template #presionadoFinalizar>
        <div class="d-flex justify-content-center my-5">
          <div class="spinner-border" role="status"></div>
        </div>
      </ng-template>
    </div>
  </div>
</div>

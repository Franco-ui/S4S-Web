<div class="col-md-6 mx-auto mt-5 py-5">
  <div class="card">
    <div class="card-body">
      <h3 class="text-center mt-3">Scheduler For Schools</h3>
      <div *ngIf="fueACrear == false">
        <div class="d-grid">
          <button (click)="irCrear()" class="btn btn-primary btn-lg mt-5 py-4">
            CREAR
          </button>
        </div>
      </div>
      <div *ngIf="fueACrear">
        <div class="mx-auto mt-5">
          <div class="card">
            <div class="card-body">
              <div class="alert alert-light mt-2 text-danger" role="alert">
                *Obligatorio
              </div>
              <form [formGroup]="crearColegioForm" (ngSubmit)="onCrear()">
                <div class="form-group mt-4">
                  <label
                    >Nombre del Colegio
                    <h6 class="text-danger d-inline-block">*</h6></label
                  >
                  <input
                    type="text"
                    required
                    class="form-control"
                    formControlName="nombre"
                  />
                </div>
                <div class="form-group mt-3">
                  <label
                    >Provincia
                    <h6 class="text-danger d-inline-block">*</h6></label
                  >
                  <select
                    class="form-select"
                    formControlName="provincia"
                    required
                    (change)="
                      localidadesPorProvincia(
                        this.crearColegioForm.value['provincia']
                      )
                    "
                  >
                    <option
                      value="{{ provincia['nombre'] }}"
                      *ngFor="let provincia of provinciasArgentina"
                      class="bg-white"
                    >
                      {{ provincia["nombre"] }}
                    </option>
                  </select>
                </div>
                <div
                  class="form-group mt-3"
                  *ngIf="localidadesProvincia.length > 0"
                >
                  <label
                    >Localidad
                    <h6 class="text-danger d-inline-block">*</h6></label
                  >
                  <select
                    class="form-select"
                    formControlName="localidad"
                    required
                  >
                    <option
                      value="{{ localidad['nombre'] }}"
                      *ngFor="let localidad of localidadesProvincia"
                      class="bg-white"
                    >
                      {{ localidad["nombre"] }}
                    </option>
                  </select>
                </div>
                <div class="form-group mt-3">
                  <label
                    >Telefono del Colegio (sin espacion ni signos, solo numeros)
                    <h6 class="text-danger d-inline-block">*</h6></label
                  >
                  <div class="input-group mb-3">
                    <span class="input-group-text rounded bg-light me-2"
                      >011-</span
                    >
                    <input
                      type="number"
                      placeholder="Ej: 12345678"
                      min="10000000"
                      max="99999999"
                      required
                      class="form-control"
                      formControlName="telefono"
                    />
                  </div>
                </div>
                <div class="form-group mt-3">
                  <label
                    >Duracion de cada modulo (en minutos)
                    <h6 class="text-danger d-inline-block">*</h6></label
                  >
                  <input
                    type="number"
                    placeholder="Ej: 40"
                    min="20"
                    max="60"
                    required
                    class="form-control"
                    formControlName="duracionModulo"
                  />
                </div>
                <div class="form-group mt-3">
                  <label
                    >Hora inicio del primer Modulo del dia
                    <h6 class="text-danger d-inline-block">*</h6></label
                  >
                  <input
                    type="Time"
                    required
                    class="form-control"
                    formControlName="inicioHorario"
                  />
                </div>
                <div class="form-group mt-3">
                  <label
                    >Hora final del ultimo modulo del dia
                    <h6 class="text-danger d-inline-block">*</h6></label
                  >
                  <input
                    type="Time"
                    required
                    class="form-control"
                    formControlName="finalizacionHorario"
                  />
                </div>

                <div class="d-grid">
                  <button
                    type="submit"
                    class="btn btn-primary btn-lg mt-4 py-4"
                  >
                    CREAR
                  </button>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
      <div *ngIf="fueAUnirse == false">
        <div class="d-grid">
          <button (click)="irUnirse()" class="btn btn-primary btn-lg mt-4">
            UNIRSE
          </button>
        </div>
      </div>
      <div *ngIf="fueAUnirse">
        <div class="mx-auto mt-2">
          <div class="card">
            <div class="card-body">
              <div class="alert alert-light mt-2 text-danger" role="alert">
                *Obligatorio
              </div>
              <form [formGroup]="unirseColegioForm" (ngSubmit)="onUnirse()">
                <div class="form-group mt-4">
                  <label
                    >Nombre del Colegio
                    <h6 class="text-danger d-inline-block">*</h6></label
                  >
                  <input
                    type="text"
                    required
                    class="form-control"
                    formControlName="nombreColegio"
                    (input)="buscarColegios()"
                  />
                </div>

                <div class="list-group" *ngIf="!seleccionoColegio">
                  <button
                    type="button"
                    (click)="seleccionaColegio(colegioElegido)"
                    class="list-group-item list-group-item-action"
                    *ngFor="let colegioElegido of colegiosBuscados"
                  >
                    {{ colegioElegido }}
                  </button>
                </div>
                <!-- <ng-template #colegioSeleccionado>
                  
                  <div class="card">
                    <div class="card-body">
                      {{ colegioElegido }}
                      <button type="button" (click)="seleccionaColegio(colegioElegido)" class="btn-close btn-close-white" aria-label="Close"></button>
                    
                    </div>
                    
                  </div>
                </ng-template> -->

                <div class="form-group mt-4" *ngIf="seleccionoColegio">
                  <label
                    >Codigo del Colegio
                    <h6 class="text-danger d-inline-block">*</h6></label
                  >
                  <input
                    type="text"
                    required
                    class="form-control"
                    formControlName="idColegio"
                  />
                </div>

                <div class="d-grid">
                  <button type="submit" class="btn btn-primary btn-lg mt-4">
                    UNIRSE
                  </button>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
